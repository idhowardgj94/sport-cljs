{"version":3,"sources":["cljss/utils.cljc"],"mappings":";AAGS,AAAKA,AAAcC;AAE5B,AAAA,AAAAC,AAAMG;AAAN,AAAA,AAAAF,AAAAD;AAAA,AAAAE,AAAAD,AAAA,AAAA,AAAgBG;AAAhB,AAAAF,AAAAD,AAAA,AAAA,AAAqBI;AAArB,AACE,AAAAC,AAAK,AAAA,AAACC,AAAmB,AAACC,AAAKJ;AAA/B,AAAA,AAAAE;AACK,AAACG,AAAKJ;;AADXC;;;AAGF,AAAA,AAAAI,AAAME;AAAN,AAAA,AAAAD,AAAAD;AAAA,AAAAR,AAAAS,AAAA,AAAA,AAAgBP;AAAhB,AAAAF,AAAAS,AAAA,AAAA,AAAqBN;AAArB,AACE,AAAK,AAASD,AACT,AAACK,AAAKJ;;AAEb,AAAA,AAAMQ,AAAUC;AAAhB,AACE,AAAI,AAASA,AAAG,AAASA;;AAE3B,AAAA,AAAMC,AAAYX,AAAKY;AAAvB,AACE,AAAI,AAAA,AAACC,AAAEb;AACL,AAACc,AAAOF;;AACRA;;;AAEJ,AAAA,AAAMG,AAAWC,AAAIC;AAArB,AAIO,AAAA,AAAAK;AAAA,AAAE,AAAA,AAAA,AAAAA,AAAA,AAASN;AAFX,AAACE,AAAI,AAAAC,AACL,AAAA,AAACE;AADI,AAAA,AAAAD,AAAAD;AAAA,AAAArB,AAAAsB,AAAA,AAAA,AAAMpB;AAAN,AAAAF,AAAAsB,AAAA,AAAA,AAAWR;AAAX,AAAiB,AAAA,AAAA,AAAK,AAACR,AAAKJ,AAAU,AAACW,AAAWX,AAAKY;AAD5DK;;AAKP,AAAA,AAAAM,AAAME;AAAN,AAAA,AAAAD,AAAAD;AAAA,AAAAzB,AAAA0B,AAAA,AAAA,AAAyBxB;AAAzB,AAAAF,AAAA0B,AAAA,AAAA,AAA8BZ;AAA9B,AACE,AAAA,AAAMc,AAAG,AAAA,AAAK,AAACtB,AAAKJ;AACd0B,AAAE,AAAI,AAACC,AAAQf,AACX,AAACgB,AAAKF,AAAEd,AACR,AAACiB,AAAKH,AAAEd;AAHlB,AAIE,AAAA,AAACiB,AAAKH;;AAEV,AAAA,AAAMI,AAAYC;AAAlB,AACE,AACK,AAACC,AACC,AAAKD,AAAEE,AAOTO;AAPE,AACE,AAAMN,AAAG,AAACC,AAAMJ;AACVK,AAAM,AAACC,AAAKN;AADlB,AAEE,AAAI,AAAK,AAACtB,AAASwB,AAAI,AAASC;AAC9B,AAACI,AAAK,AAAKJ,AAAGD,AAAIG;;AAClB,AAACE,AAAKL,AAAGF;;AAPjBA,AAQE,AAAAQ,AAAA,AAAA,AAAA,AAAA,AAAA","names":["cljss.utils/dev?","js/goog.DEBUG","p__41458","vec__41459","cljs.core.nth","cljss.utils/pseudo?","rule","value","and__4115__auto__","cljs.core/re-matches","cljs.core/name","cljs.core/map?","p__41462","vec__41463","cljss.utils/nested?","cljss.utils/literal?","x","cljss.utils/escape-val","val","cljs.core._EQ_","cljs.core.pr_str","cljss.utils/build-css","cls","styles","cljs.core.map","p__41467","vec__41468","clojure.string.join","p1__41466#","p__41471","vec__41472","cljss.utils/compile-css-rule","r","cljs.core/vector?","cljs.core.into","cljs.core.conj","cljss.utils/reduce-str","s","cljs.core.reduce","s1","s0","cljs.core/first","srest","cljs.core/rest","cljs.core/cons","cljs.core/List","cljs.core/reverse"],"sourcesContent":["(ns cljss.utils\n  (:require [clojure.string :as cstr]))\n\n#?(:cljs (def dev? ^boolean goog.DEBUG))\n\n(defn pseudo? [[rule value]]\n  (and (re-matches #\"&:.*\" (name rule))\n       (map? value)))\n\n(defn nested? [[rule value]]\n  (and (string? rule)\n       (map? value)))\n\n(defn literal? [x]\n  (or (string? x) (number? x)))\n\n(defn escape-val [rule val]\n  (if (= rule :content)\n    (pr-str val)\n    val))\n\n(defn build-css [cls styles]\n  (->> styles\n       (map (fn [[rule val]] (str (name rule) \":\" (escape-val rule val) \";\")))\n       (cstr/join \"\")\n       (#(str \".\" cls \"{\" % \"}\"))))\n\n(defn compile-css-rule [[rule val]]\n  (let [r [(str (name rule) \":\")]\n        r (if (vector? val)\n            (into r val)\n            (conj r val))]\n    (conj r \";\")))\n\n(defn reduce-str [s]\n  (->> s\n       (reduce\n         (fn [s s1]\n           (let [s0 (first s)\n                 srest (rest s)]\n             (if (and (literal? s1) (string? s0))\n               (cons (str s0 s1) srest)\n               (cons s1 s))))\n         (list \"\"))\n       reverse))\n\n#?(:clj\n   (defn resolve-get\n     \"Tries to resolve a var and get its value. Returns the symbol if failed.\"\n     [sym]\n     (try\n       (var-get (resolve sym))\n       (catch Exception e\n         sym))))\n"]}